!function(){function n(n,e){return n.editor?n.editor.editorServer+e:n.deliveryPath+e+"?"+(new Date).getTime()}function e(n,e){const t=document.createElement(e);if("function"==typeof t.attachShadow){t.attachShadow({mode:"closed"}).appendChild(n)}else t.appendChild(n);return t}function t(n){"function"==typeof window.notifyWebExtension&&window.notifyWebExtension(n)}function o(n){"function"==typeof window.targetWindow.newiredNotifyEditor&&window.targetWindow.newiredNotifyEditor(n)}function i(i){try{c(n(i,"api.bundle.js"),"newired-api-facade").then((()=>{w(n(i,"launcher.bundle.js")).then((n=>{const r=document.createElement("nw-app");r.id="newired-app";const d=e(r,"nw-wrapper");window.targetDocument.body.appendChild(d),window.nwApp=r,window.isRunningInEditor=void 0!==i.editor,new Function(n).call(),window.newired._internal.initialize(i),t({kind:"overlayInitialized",deliveryPath:i.deliveryPath}),o(window)}))}))}catch(n){console.warn("\n===================================================================================\n\n  Unable to start Newired Overlay.\n\n  "+n+"\n\n===================================================================================\n"),t({kind:"overlayFailed"})}}function r(n){let e=!1;new MutationObserver(((t,o)=>{const i=document.querySelector("nw-wrapper");e&&!i&&(console.warn("Overlay <nw-wrapper> element removed from DOM. Going to restart Overlay."),o.disconnect(),u(n)),e=null!=i})).observe(document,{attributes:!1,childList:!0,subtree:!0})}function d(n,e){const t=document.createElement("script");t.innerHTML=n,t.id=e,window.targetDocument.body.appendChild(t)}function c(n,e){return w(n).then((n=>d(n,e)))}function w(n){return fetch(n).then((e=>{if(!e.ok)throw new Error(`Unable to get requested file ${n}`);return e.text()}))}function a(r){const a=function(r){const a=document.createElement("iframe");return a.id="newired-scope-frame",a.style.display="none",a.onload=()=>{a.contentWindow.targetDocument=document,a.contentWindow.targetWindow=window,a.contentWindow.environment="browser-snippet";const u=a.contentDocument.createElement("script");u.insertAdjacentText("afterbegin",`(function(){\n                ${e.toString()} \n                ${t.toString()} \n                ${o.toString()} \n                ${w.toString()} \n                ${n.toString()} \n                ${c.toString()} \n                ${d.toString()} \n                ${i.toString()}\n                ${i.name}(${JSON.stringify(r)});\n                })()`),a.contentDocument.head.appendChild(u)},a}(r),u=e(a,"nw-scope");document.body.appendChild(u)}function u(n){"browser-webextension"===window.environment?(r(n),i(n)):(r(n),a(n))}window.newired=window.newired||{},window.newired.init=u}();